<script>
    import { push, location } from "svelte-spa-router";
    import { onDestroy } from "svelte";
    import CircleButtonForPush from "../components/CircleButtonForPush.svelte";

    let showPop = false;
    let input = "";
    function Click() {
        showPop = !showPop;
    }

  function JumpNewPage(address) {
    push("/" + address);
  }
  let currentpath = "";
  const unsubscribe = location.subscribe(($location) => {
    currentpath = $location;
  });
  onDestroy(unsubscribe);
</script>

<h4>LIPS - Lightweight Information Portal Service</h4>

<body>
    {#if (currentpath = "/main")}
        <ul>
            ç”¨æˆ·
            <li>
                <button on:click={() => JumpNewPage("createChannel")}>
                    åˆ›å»ºé¢‘é“
                </button>
            </li>
            <li>
                <button on:click={() => JumpNewPage("checkInformation")}>
                    æŸ¥çœ‹é€šçŸ¥
                </button>
            </li>
            <li>
                <button on:click={() => JumpNewPage("yourChannel")}>
                    ä½ åŠ å…¥çš„é¢‘é“
                </button>
            </li>
            <li>
                <button on:click={() => JumpNewPage("login")}>
                    ç™»å‡º
                </button>
            </li>
        </ul>
        <div class="search-container">
            <button on:click={Click}> ğŸ” </button>
            <div style:display={showPop ? "block" : "none"}>
                <input
                    type="text"
                    bind:value={input}
                    placeholder="æŸ¥æ‰¾é¢‘é“id"
                />
                <button>search</button>
            </div>
        </div>
    {/if}
</body>
<div class="button-manage" >
    <CircleButtonForPush
        address="/searchChannel"
        info="æŸ¥æ‰¾é¢‘é“"
        src="searchChannelPicture.jpg"
    />
    <CircleButtonForPush
        address="/createChannel"
        info="åˆ›å»ºé¢‘é“"
        src="createChannelPicture.jpg"
    />
    <CircleButtonForPush
        address="/selectTags"
        info="ç­›é€‰æ ‡ç­¾"
        src="selectTagsPicture.jpg"
    />
    <CircleButtonForPush
        address="/postnotice"
        info="å‘é€é€šçŸ¥"
        src="postnoticePicture.jpg"
    />
    <CircleButtonForPush
        address="/participants"
        info="é¢‘é“æˆå‘˜"
        src="participantsPicture.jpg"
    />
</div>

<style>
    .search-container {
        display: flex;
        align-items: center;
    }
</style>
