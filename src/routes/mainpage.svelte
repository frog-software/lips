<script>
    import { push, location } from "svelte-spa-router";
    import { onDestroy } from "svelte";

    let showPop = false;
    let input = "";
    function Click() {
        showPop = !showPop;
    }

    function JumpNewPage(address) {
        push("/" + address);
    }
    let currentpath = "";
    const unsubscribe = location.subscribe(($location) => {
        currentpath = $location;
    });
    onDestroy(unsubscribe);
</script>

<h4>LIPS - Lightweight Information Portal Service</h4>

<body>
    {#if (currentpath = "/main")}
        <ul>
            ç”¨æˆ·
            <li>
                <button on:click={() => JumpNewPage("createChannel")}>
                    åˆ›å»ºé¢‘é“
                </button>
            </li>
            <li>
                <button on:click={() => JumpNewPage("checkInformation")}>
                    æŸ¥çœ‹é€šçŸ¥
                </button>
            </li>
            <li>
                <button on:click={() => JumpNewPage("yourChannel")}>
                    ä½ åŠ å…¥çš„é¢‘é“
                </button>
            </li>
            <li>
                <button on:click={() => JumpNewPage("login")}>
                    ç™»å‡º
                </button>
            </li>
        </ul>
        <div class="search-container">
            <span on:click={Click}> ğŸ” </span>
            <div style:display={showPop ? "block" : "none"}>
                <input
                    type="text"
                    bind:value={input}
                    placeholder="æŸ¥æ‰¾é¢‘é“id"
                />
                <button>search</button>
            </div>
        </div>
    {/if}
</body>

<style>
    .search-container {
        display: flex;
        align-items: center;
    }
</style>
